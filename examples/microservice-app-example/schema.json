{
    "__type__": "System",
    "kind": "system",
    "name": null,
    "annotations": [],
    "attributes": {
        "name": {
            "__type__": "Attribute",
            "key": "name",
            "value": "Example microservice app",
            "annotations": []
        },
        "type": {
            "__type__": "Attribute",
            "key": "type",
            "value": "microservices",
            "annotations": []
        },
        "domain": {
            "__type__": "Attribute",
            "key": "domain",
            "value": "todo and authentication",
            "annotations": []
        },
        "description": {
            "__type__": "Attribute",
            "key": "description",
            "value": "Example polyglot microservice application: VueJS frontend, Go Auth API issuing JWT tokens, NodeJS Todos API with Redis-based log queue, Java Spring Boot Users API, Python log processor, Zipkin for tracing, Redis for queueing.",
            "annotations": []
        },
        "runtime": {
            "__type__": "Attribute",
            "key": "runtime",
            "value": {
                "development": {
                    "backend": "docker-compose",
                    "services": [
                        {
                            "name": "frontend",
                            "image": "frontend",
                            "build_context": "./frontend",
                            "ports_exposed": [
                                "8080"
                            ],
                            "depends_on": [
                                "zipkin",
                                "auth-api",
                                "todos-api",
                                "users-api"
                            ],
                            "env": [
                                "PORT",
                                "AUTH_API_ADDRESS",
                                "TODOS_API_ADDRESS",
                                "ZIPKIN_URL"
                            ]
                        },
                        {
                            "name": "auth-api",
                            "image": "auth-api",
                            "build_context": "./auth-api",
                            "ports_exposed": [
                                "8081"
                            ],
                            "depends_on": [
                                "zipkin",
                                "users-api"
                            ],
                            "env": [
                                "AUTH_API_PORT",
                                "JWT_SECRET",
                                "USERS_API_ADDRESS",
                                "ZIPKIN_URL"
                            ]
                        },
                        {
                            "name": "todos-api",
                            "image": "todos-api",
                            "build_context": "./todos-api",
                            "ports_exposed": [
                                "8082"
                            ],
                            "depends_on": [
                                "zipkin",
                                "redis-queue"
                            ],
                            "env": [
                                "TODO_API_PORT",
                                "JWT_SECRET",
                                "REDIS_HOST",
                                "REDIS_PORT",
                                "REDIS_CHANNEL",
                                "ZIPKIN_URL"
                            ]
                        },
                        {
                            "name": "users-api",
                            "image": "users-api",
                            "build_context": "./users-api",
                            "ports_exposed": [
                                "8083"
                            ],
                            "depends_on": [
                                "zipkin"
                            ],
                            "env": [
                                "SERVER_PORT",
                                "JWT_SECRET",
                                "SPRING_ZIPKIN_BASE_URL"
                            ]
                        },
                        {
                            "name": "log-message-processor",
                            "image": "log-message-processor",
                            "build_context": "./log-message-processor",
                            "depends_on": [
                                "zipkin",
                                "redis-queue"
                            ],
                            "env": [
                                "REDIS_HOST",
                                "REDIS_PORT",
                                "REDIS_CHANNEL",
                                "ZIPKIN_URL"
                            ]
                        },
                        {
                            "name": "zipkin",
                            "image": "openzipkin/zipkin",
                            "ports_exposed": [
                                "9411"
                            ]
                        },
                        {
                            "name": "redis-queue",
                            "image": "redis"
                        }
                    ]
                },
                "kubernetes": {
                    "__type__": "Attribute",
                    "key": "kubernetes",
                    "value": {
                        "backend": "k8s",
                        "cluster": "minikube",
                        "apply_command": "kubectl create -R -f k8s/",
                        "access": [
                            {
                                "name": "frontend",
                                "command": "minikube service frontend"
                            },
                            {
                                "name": "zipkin",
                                "command": "minikube service zipkin"
                            }
                        ],
                        "build_instructions": "Start Minikube, connect Docker CLI to the Minikube node, and build images with docker-compose so they are available to the cluster.\nCommands:\nminikube start\neval $(minikube docker-env)\ndocker-compose build"
                    },
                    "annotations": [
                        {
                            "__type__": "Annotation",
                            "name": "PATH",
                            "args": [
                                "k8s/README.md"
                            ]
                        }
                    ]
                }
            },
            "annotations": [
                {
                    "__type__": "Annotation",
                    "name": "PATH",
                    "args": [
                        "docker-compose.yaml"
                    ]
                }
            ]
        }
    },
    "services": [
        {
            "__type__": "Service",
            "kind": "service",
            "name": "frontend",
            "annotations": [
                {
                    "__type__": "Annotation",
                    "name": "PATH",
                    "args": [
                        "./frontend"
                    ]
                },
                {
                    "__type__": "Annotation",
                    "name": "CALLS",
                    "args": [
                        "system.auth_api"
                    ]
                },
                {
                    "__type__": "Annotation",
                    "name": "CALLS",
                    "args": [
                        "system.todos_api"
                    ]
                },
                {
                    "__type__": "Annotation",
                    "name": "CALLS",
                    "args": [
                        "system.users_api"
                    ]
                },
                {
                    "__type__": "Annotation",
                    "name": "CALLS",
                    "args": [
                        "system.zipkin"
                    ]
                }
            ],
            "attributes": {
                "description": {
                    "__type__": "Attribute",
                    "key": "description",
                    "value": "VueJS-based UI. Talks to Auth API for authentication, Todos API for CRUD operations, Users API for profiles. Emits tracing data to Zipkin when enabled.",
                    "annotations": []
                },
                "langs": {
                    "__type__": "Attribute",
                    "key": "langs",
                    "value": [
                        "javascript"
                    ],
                    "annotations": []
                },
                "dependencies": {
                    "__type__": "Attribute",
                    "key": "dependencies",
                    "value": {
                        "auth_api": "http client",
                        "todos_api": "http client",
                        "users_api": "http client",
                        "zipkin": "tracing collector",
                        "node_packages": [
                            "vue-router",
                            "vuex",
                            "vue-resource",
                            "bootstrap-vue",
                            "bootstrap",
                            "jwt-decode",
                            "zipkin",
                            "zipkin-transport-http",
                            "zipkin-instrumentation-vue-resource"
                        ]
                    },
                    "annotations": []
                },
                "runtime": {
                    "__type__": "Attribute",
                    "key": "runtime",
                    "value": {
                        "development": {
                            "__type__": "Attribute",
                            "key": "development",
                            "value": {
                                "backend": "docker-compose",
                                "container_name": "frontend",
                                "build_context": "./frontend",
                                "dockerfile": "./frontend/Dockerfile",
                                "base_image": "node:8-alpine",
                                "port": "8080",
                                "start_command": "npm start",
                                "tracing": "zipkin",
                                "env": [
                                    {
                                        "key": "PORT",
                                        "value": "8080"
                                    },
                                    {
                                        "key": "AUTH_API_ADDRESS",
                                        "value": "auth-api:8081"
                                    },
                                    {
                                        "key": "TODOS_API_ADDRESS",
                                        "value": "todos-api:8082"
                                    },
                                    {
                                        "key": "ZIPKIN_URL",
                                        "value": "zipkin:9411/api/v2/spans"
                                    }
                                ]
                            },
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./frontend/Dockerfile"
                                    ]
                                }
                            ]
                        },
                        "kubernetes": {
                            "__type__": "Attribute",
                            "key": "kubernetes",
                            "value": {
                                "backend": "k8s",
                                "deployment_name": "frontend",
                                "service_name": "frontend",
                                "replicas": "1",
                                "image": "frontend",
                                "image_pull_policy": "Never",
                                "labels": {
                                    "app": "microservice-app-example",
                                    "service": "frontend"
                                },
                                "ports_exposed": [
                                    "8080"
                                ],
                                "service_type": "LoadBalancer",
                                "env": [
                                    {
                                        "key": "AUTH_API_ADDRESS",
                                        "value": "http://auth-api:8081"
                                    },
                                    {
                                        "key": "PORT",
                                        "value": "8080"
                                    },
                                    {
                                        "key": "TODOS_API_ADDRESS",
                                        "value": "http://todos-api:8082"
                                    },
                                    {
                                        "key": "ZIPKIN_URL",
                                        "value": "http://zipkin:9411/api/v2/spans"
                                    }
                                ]
                            },
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "k8s/frontend/deployment.yaml"
                                    ]
                                },
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "k8s/frontend/service.yaml"
                                    ]
                                }
                            ]
                        }
                    },
                    "annotations": []
                },
                "components": {
                    "__type__": "Attribute",
                    "key": "components",
                    "value": [
                        {
                            "__type__": "Block",
                            "kind": "config",
                            "name": "ProdEnv",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./frontend/config/prod.env.js"
                                    ]
                                }
                            ],
                            "attributes": {
                                "NODE_ENV": {
                                    "__type__": "Attribute",
                                    "key": "NODE_ENV",
                                    "value": "production",
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "config",
                            "name": "DevEnv",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./frontend/config/dev.env.js"
                                    ]
                                },
                                {
                                    "__type__": "Annotation",
                                    "name": "BASE",
                                    "args": [
                                        "system.frontend.components.ProdEnv"
                                    ]
                                }
                            ],
                            "attributes": {
                                "NODE_ENV": {
                                    "__type__": "Attribute",
                                    "key": "NODE_ENV",
                                    "value": "development",
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "config",
                            "name": "WebpackDevConfig",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./frontend/config/index.js"
                                    ]
                                }
                            ],
                            "attributes": {
                                "dev_server": {
                                    "__type__": "Attribute",
                                    "key": "dev_server",
                                    "value": "webpack-dev-server",
                                    "annotations": []
                                },
                                "port_source": {
                                    "__type__": "Attribute",
                                    "key": "port_source",
                                    "value": "env PORT",
                                    "annotations": []
                                },
                                "auto_open_browser": {
                                    "__type__": "Attribute",
                                    "key": "auto_open_browser",
                                    "value": "false",
                                    "annotations": []
                                },
                                "proxies": {
                                    "__type__": "Attribute",
                                    "key": "proxies",
                                    "value": [
                                        {
                                            "route": "/login",
                                            "target_env": "AUTH_API_ADDRESS",
                                            "fallback": "http://127.0.0.1:8081",
                                            "secure": "false"
                                        },
                                        {
                                            "route": "/todos",
                                            "target_env": "TODOS_API_ADDRESS",
                                            "fallback": "http://127.0.0.1:8082",
                                            "secure": "false"
                                        },
                                        {
                                            "route": "/zipkin",
                                            "target_env": "ZIPKIN_URL",
                                            "fallback": "http://127.0.0.1:9411/api/v2/spans",
                                            "path_rewrite": {
                                                "from": "^/zipkin",
                                                "to": "empty"
                                            },
                                            "secure": "false"
                                        }
                                    ],
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "struct",
                            "name": "AuthPlugin",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./frontend/src/auth.js"
                                    ]
                                }
                            ],
                            "attributes": {
                                "methods": {
                                    "__type__": "Attribute",
                                    "key": "methods",
                                    "value": [
                                        {
                                            "__type__": "Method",
                                            "name": "install",
                                            "visibility": "+",
                                            "params": "Vue any, options any",
                                            "returns": "void",
                                            "inputs": [
                                                {
                                                    "name": "Vue",
                                                    "type": "any",
                                                    "optional": false,
                                                    "fields": null
                                                },
                                                {
                                                    "name": "options",
                                                    "type": "any",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "void",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Method",
                                            "name": "login",
                                            "visibility": "+",
                                            "params": "creds any, redirect string?",
                                            "returns": "Promise",
                                            "inputs": [
                                                {
                                                    "name": "creds",
                                                    "type": "any",
                                                    "optional": false,
                                                    "fields": null
                                                },
                                                {
                                                    "name": "redirect",
                                                    "type": "string?",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "Promise",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Method",
                                            "name": "logout",
                                            "visibility": "+",
                                            "params": "",
                                            "returns": "void",
                                            "inputs": [],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "void",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Method",
                                            "name": "setAuthHeader",
                                            "visibility": "+",
                                            "params": "request any",
                                            "returns": "void",
                                            "inputs": [
                                                {
                                                    "name": "request",
                                                    "type": "any",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "void",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Method",
                                            "name": "isAdmin",
                                            "visibility": "+",
                                            "params": "",
                                            "returns": "bool",
                                            "inputs": [],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "bool",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Method",
                                            "name": "isLoggedIn",
                                            "visibility": "+",
                                            "params": "",
                                            "returns": "bool",
                                            "inputs": [],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "bool",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Method",
                                            "name": "_retry",
                                            "visibility": "-",
                                            "params": "request any",
                                            "returns": "Promise",
                                            "inputs": [
                                                {
                                                    "name": "request",
                                                    "type": "any",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "Promise",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Method",
                                            "name": "_storeToken",
                                            "visibility": "-",
                                            "params": "response any",
                                            "returns": "void",
                                            "inputs": [
                                                {
                                                    "name": "response",
                                                    "type": "any",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "void",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "struct",
                            "name": "ZipkinPlugin",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./frontend/src/zipkin.js"
                                    ]
                                }
                            ],
                            "attributes": {
                                "methods": {
                                    "__type__": "Attribute",
                                    "key": "methods",
                                    "value": [
                                        {
                                            "__type__": "Method",
                                            "name": "install",
                                            "visibility": "+",
                                            "params": "Vue any, options any",
                                            "returns": "void",
                                            "inputs": [
                                                {
                                                    "name": "Vue",
                                                    "type": "any",
                                                    "optional": false,
                                                    "fields": null
                                                },
                                                {
                                                    "name": "options",
                                                    "type": "any",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "void",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "struct",
                            "name": "FrontendApp",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./frontend/src/main.js"
                                    ]
                                }
                            ],
                            "attributes": {
                                "methods": {
                                    "__type__": "Attribute",
                                    "key": "methods",
                                    "value": [
                                        {
                                            "__type__": "Method",
                                            "name": "bootstrap",
                                            "visibility": "+",
                                            "params": "",
                                            "returns": "void",
                                            "inputs": [],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "void",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "struct",
                            "name": "AppComponent",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./frontend/src/components/App.vue"
                                    ]
                                }
                            ],
                            "attributes": {}
                        },
                        {
                            "__type__": "Block",
                            "kind": "struct",
                            "name": "AppNav",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./frontend/src/components/AppNav.vue"
                                    ]
                                }
                            ],
                            "attributes": {
                                "methods": {
                                    "__type__": "Attribute",
                                    "key": "methods",
                                    "value": [
                                        {
                                            "__type__": "Method",
                                            "name": "logout",
                                            "visibility": "+",
                                            "params": "",
                                            "returns": "void",
                                            "inputs": [],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "void",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Method",
                                            "name": "isLoggedIn",
                                            "visibility": "+",
                                            "params": "",
                                            "returns": "bool",
                                            "inputs": [],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "bool",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Method",
                                            "name": "isAdmin",
                                            "visibility": "+",
                                            "params": "",
                                            "returns": "bool",
                                            "inputs": [],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "bool",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "struct",
                            "name": "LoginView",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./frontend/src/components/Login.vue"
                                    ]
                                }
                            ],
                            "attributes": {
                                "methods": {
                                    "__type__": "Attribute",
                                    "key": "methods",
                                    "value": [
                                        {
                                            "__type__": "Method",
                                            "name": "doLogin",
                                            "visibility": "+",
                                            "params": "",
                                            "returns": "void",
                                            "inputs": [],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "void",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "struct",
                            "name": "TodoItemComponent",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./frontend/src/components/TodoItem.vue"
                                    ]
                                }
                            ],
                            "attributes": {
                                "fields": {
                                    "__type__": "Attribute",
                                    "key": "fields",
                                    "value": [
                                        {
                                            "__type__": "Field",
                                            "name": "todo",
                                            "type": "any",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "struct",
                            "name": "TodosView",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./frontend/src/components/Todos.vue"
                                    ]
                                }
                            ],
                            "attributes": {
                                "fields": {
                                    "__type__": "Attribute",
                                    "key": "fields",
                                    "value": [
                                        {
                                            "__type__": "Field",
                                            "name": "tasks",
                                            "type": "array_any",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Field",
                                            "name": "isProcessing",
                                            "type": "bool",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Field",
                                            "name": "errorMessage",
                                            "type": "string",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Field",
                                            "name": "newTask",
                                            "type": "string",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                },
                                "methods": {
                                    "__type__": "Attribute",
                                    "key": "methods",
                                    "value": [
                                        {
                                            "__type__": "Method",
                                            "name": "loadTasks",
                                            "visibility": "+",
                                            "params": "",
                                            "returns": "void",
                                            "inputs": [],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "void",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Method",
                                            "name": "addTask",
                                            "visibility": "+",
                                            "params": "",
                                            "returns": "void",
                                            "inputs": [],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "void",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Method",
                                            "name": "removeTask",
                                            "visibility": "+",
                                            "params": "index int",
                                            "returns": "void",
                                            "inputs": [
                                                {
                                                    "name": "index",
                                                    "type": "int",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "void",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Method",
                                            "name": "total",
                                            "visibility": "+",
                                            "params": "",
                                            "returns": "int",
                                            "inputs": [],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "int",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Method",
                                            "name": "created",
                                            "visibility": "+",
                                            "params": "",
                                            "returns": "void",
                                            "inputs": [],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "void",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "router",
                            "name": "FrontendRouter",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./frontend/src/router/index.js"
                                    ]
                                }
                            ],
                            "attributes": {
                                "library": {
                                    "__type__": "Attribute",
                                    "key": "library",
                                    "value": "vue-router",
                                    "annotations": []
                                },
                                "routes": {
                                    "__type__": "Attribute",
                                    "key": "routes",
                                    "value": [
                                        {
                                            "path": "/login",
                                            "name": "login",
                                            "component": "LoginView"
                                        },
                                        {
                                            "path": "/",
                                            "alias": "/todos",
                                            "name": "todos",
                                            "component": "TodosView",
                                            "beforeEnter": "requireLoggedIn"
                                        }
                                    ],
                                    "annotations": []
                                },
                                "guards": {
                                    "__type__": "Attribute",
                                    "key": "guards",
                                    "value": [
                                        {
                                            "name": "requireLoggedIn",
                                            "trigger": "beforeEnter",
                                            "check": "Auth.isLoggedIn",
                                            "on_fail": "redirect to /login with redirect query"
                                        }
                                    ],
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "config",
                            "name": "StoreStorage",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./frontend/src/store/state.js"
                                    ]
                                }
                            ],
                            "attributes": {
                                "STORAGE_KEY": {
                                    "__type__": "Attribute",
                                    "key": "STORAGE_KEY",
                                    "value": "microservice-app-example-frontend",
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "struct",
                            "name": "State",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./frontend/src/store/state.js"
                                    ]
                                }
                            ],
                            "attributes": {
                                "fields": {
                                    "__type__": "Attribute",
                                    "key": "fields",
                                    "value": [
                                        {
                                            "__type__": "Field",
                                            "name": "auth",
                                            "type": "AuthState",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Field",
                                            "name": "user",
                                            "type": "UserState",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "struct",
                            "name": "AuthState",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./frontend/src/store/state.js"
                                    ]
                                }
                            ],
                            "attributes": {
                                "fields": {
                                    "__type__": "Attribute",
                                    "key": "fields",
                                    "value": [
                                        {
                                            "__type__": "Field",
                                            "name": "isLoggedIn",
                                            "type": "bool",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Field",
                                            "name": "accessToken",
                                            "type": "string?",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Field",
                                            "name": "refreshToken",
                                            "type": "string?",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "struct",
                            "name": "UserState",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./frontend/src/store/state.js"
                                    ]
                                }
                            ],
                            "attributes": {
                                "fields": {
                                    "__type__": "Attribute",
                                    "key": "fields",
                                    "value": [
                                        {
                                            "__type__": "Field",
                                            "name": "name",
                                            "type": "string?",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Field",
                                            "name": "role",
                                            "type": "any?",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "struct",
                            "name": "Mutations",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./frontend/src/store/mutations.js"
                                    ]
                                }
                            ],
                            "attributes": {
                                "methods": {
                                    "__type__": "Attribute",
                                    "key": "methods",
                                    "value": [
                                        {
                                            "__type__": "Method",
                                            "name": "UPDATE_AUTH",
                                            "visibility": "+",
                                            "params": "state any, auth any",
                                            "returns": "void",
                                            "inputs": [
                                                {
                                                    "name": "state",
                                                    "type": "any",
                                                    "optional": false,
                                                    "fields": null
                                                },
                                                {
                                                    "name": "auth",
                                                    "type": "any",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "void",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Method",
                                            "name": "UPDATE_USER",
                                            "visibility": "+",
                                            "params": "state any, user any",
                                            "returns": "void",
                                            "inputs": [
                                                {
                                                    "name": "state",
                                                    "type": "any",
                                                    "optional": false,
                                                    "fields": null
                                                },
                                                {
                                                    "name": "user",
                                                    "type": "any",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "void",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Method",
                                            "name": "CLEAR_ALL_DATA",
                                            "visibility": "+",
                                            "params": "state any",
                                            "returns": "void",
                                            "inputs": [
                                                {
                                                    "name": "state",
                                                    "type": "any",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "void",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "struct",
                            "name": "LocalStoragePlugin",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./frontend/src/store/plugins.js"
                                    ]
                                }
                            ],
                            "attributes": {
                                "methods": {
                                    "__type__": "Attribute",
                                    "key": "methods",
                                    "value": [
                                        {
                                            "__type__": "Method",
                                            "name": "apply",
                                            "visibility": "+",
                                            "params": "store any",
                                            "returns": "void",
                                            "inputs": [
                                                {
                                                    "name": "store",
                                                    "type": "any",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "void",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Method",
                                            "name": "_onMutation",
                                            "visibility": "-",
                                            "params": "mutation any, state any",
                                            "returns": "void",
                                            "inputs": [
                                                {
                                                    "name": "mutation",
                                                    "type": "any",
                                                    "optional": false,
                                                    "fields": null
                                                },
                                                {
                                                    "name": "state",
                                                    "type": "any",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "void",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "struct",
                            "name": "VuexStore",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./frontend/src/store/index.js"
                                    ]
                                }
                            ],
                            "attributes": {
                                "fields": {
                                    "__type__": "Attribute",
                                    "key": "fields",
                                    "value": [
                                        {
                                            "__type__": "Field",
                                            "name": "state",
                                            "type": "State",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Field",
                                            "name": "mutations",
                                            "type": "Mutations",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Field",
                                            "name": "plugins",
                                            "type": "array_any",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "struct",
                            "name": "SpinnerComponent",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./frontend/src/components/common/Spinner.vue"
                                    ]
                                }
                            ],
                            "attributes": {
                                "fields": {
                                    "__type__": "Attribute",
                                    "key": "fields",
                                    "value": [
                                        {
                                            "__type__": "Field",
                                            "name": "message",
                                            "type": "string",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                }
                            }
                        }
                    ],
                    "annotations": []
                }
            }
        },
        {
            "__type__": "Service",
            "kind": "service",
            "name": "auth_api",
            "annotations": [
                {
                    "__type__": "Annotation",
                    "name": "PATH",
                    "args": [
                        "./auth-api"
                    ]
                },
                {
                    "__type__": "Annotation",
                    "name": "CALLS",
                    "args": [
                        "system.users_api"
                    ]
                },
                {
                    "__type__": "Annotation",
                    "name": "CALLS",
                    "args": [
                        "system.zipkin"
                    ]
                }
            ],
            "attributes": {
                "description": {
                    "__type__": "Attribute",
                    "key": "description",
                    "value": "Go-based authorization service issuing JWT tokens for use with other APIs. Uses Users API for profile data and Zipkin for tracing.",
                    "annotations": []
                },
                "langs": {
                    "__type__": "Attribute",
                    "key": "langs",
                    "value": [
                        "go"
                    ],
                    "annotations": []
                },
                "dependencies": {
                    "__type__": "Attribute",
                    "key": "dependencies",
                    "value": {
                        "users_api": "http client",
                        "zipkin": "tracing collector"
                    },
                    "annotations": []
                },
                "runtime": {
                    "__type__": "Attribute",
                    "key": "runtime",
                    "value": {
                        "development": {
                            "backend": "docker-compose",
                            "container_name": "auth-api",
                            "port": "8081",
                            "secrets": [
                                "JWT_SECRET"
                            ],
                            "env": [
                                {
                                    "key": "AUTH_API_PORT",
                                    "value": "8081"
                                },
                                {
                                    "key": "USERS_API_ADDRESS",
                                    "value": "users-api:8083"
                                },
                                {
                                    "key": "ZIPKIN_URL",
                                    "value": "zipkin:9411/api/v2/spans"
                                }
                            ]
                        },
                        "kubernetes": {
                            "__type__": "Attribute",
                            "key": "kubernetes",
                            "value": {
                                "backend": "k8s",
                                "deployment_name": "auth-api",
                                "service_name": "auth-api",
                                "replicas": "1",
                                "image": "auth-api",
                                "image_pull_policy": "Never",
                                "labels": {
                                    "app": "microservice-app-example",
                                    "service": "auth-api"
                                },
                                "ports_exposed": [
                                    "8081"
                                ],
                                "env": [
                                    {
                                        "key": "AUTH_API_PORT",
                                        "value": "8081"
                                    },
                                    {
                                        "key": "JWT_SECRET",
                                        "value": "myfancysecret"
                                    },
                                    {
                                        "key": "USERS_API_ADDRESS",
                                        "value": "http://users-api:8083"
                                    },
                                    {
                                        "key": "ZIPKIN_URL",
                                        "value": "http://zipkin:9411/api/v2/spans"
                                    }
                                ]
                            },
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "k8s/auth-api/deployment.yaml"
                                    ]
                                },
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "k8s/auth-api/service.yaml"
                                    ]
                                }
                            ]
                        }
                    },
                    "annotations": []
                },
                "api": {
                    "__type__": "Attribute",
                    "key": "api",
                    "value": [
                        {
                            "type": "http",
                            "endpoints": [
                                {
                                    "__type__": "Endpoint",
                                    "style": "http",
                                    "name": null,
                                    "method": "GET",
                                    "path": "/version",
                                    "request": "",
                                    "response": "TEXT{text:str}",
                                    "inputs": [],
                                    "outputs": [
                                        {
                                            "name": "text",
                                            "type": "str",
                                            "optional": false,
                                            "fields": null
                                        }
                                    ],
                                    "annotations": [],
                                    "attributes": {
                                        "auth": "none"
                                    },
                                    "raw": "GET /version -> TEXT{text:str} [auth:none]"
                                },
                                {
                                    "__type__": "Endpoint",
                                    "style": "http",
                                    "name": null,
                                    "method": "POST",
                                    "path": "/login",
                                    "request": "JSON{username:str, password:str}",
                                    "response": "JSON{accessToken:str, error:str?}",
                                    "inputs": [
                                        {
                                            "name": "username",
                                            "type": "str",
                                            "optional": false,
                                            "fields": null
                                        },
                                        {
                                            "name": "password",
                                            "type": "str",
                                            "optional": false,
                                            "fields": null
                                        }
                                    ],
                                    "outputs": [
                                        {
                                            "name": "accessToken",
                                            "type": "str",
                                            "optional": false,
                                            "fields": null
                                        },
                                        {
                                            "name": "error",
                                            "type": "str",
                                            "optional": true,
                                            "fields": null
                                        }
                                    ],
                                    "annotations": [],
                                    "attributes": {
                                        "auth": "none"
                                    },
                                    "raw": "POST /login JSON{username:str, password:str} -> JSON{accessToken:str, error:str?} [auth:none]"
                                }
                            ]
                        }
                    ],
                    "annotations": []
                },
                "components": {
                    "__type__": "Attribute",
                    "key": "components",
                    "value": [
                        {
                            "__type__": "Block",
                            "kind": "interface",
                            "name": "HTTPDoer",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./auth-api/user.go"
                                    ]
                                }
                            ],
                            "attributes": {
                                "methods": {
                                    "__type__": "Attribute",
                                    "key": "methods",
                                    "value": [
                                        {
                                            "__type__": "Method",
                                            "name": "Do",
                                            "visibility": "+",
                                            "params": "req *http.Request",
                                            "returns": "(*http.Response, error)",
                                            "inputs": [
                                                {
                                                    "name": "req",
                                                    "type": "*http.Request",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "*http.Response",
                                                    "optional": false,
                                                    "fields": null
                                                },
                                                {
                                                    "name": "",
                                                    "type": "error",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "struct",
                            "name": "UserService",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./auth-api/user.go"
                                    ]
                                }
                            ],
                            "attributes": {
                                "fields": {
                                    "__type__": "Attribute",
                                    "key": "fields",
                                    "value": [
                                        {
                                            "__type__": "Field",
                                            "name": "Client",
                                            "type": "HTTPDoer",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Field",
                                            "name": "UserAPIAddress",
                                            "type": "string",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Field",
                                            "name": "AllowedUserHashes",
                                            "type": "map_any",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                },
                                "methods": {
                                    "__type__": "Attribute",
                                    "key": "methods",
                                    "value": [
                                        {
                                            "__type__": "Method",
                                            "name": "Login",
                                            "visibility": "+",
                                            "params": "ctx context.Context, username string, password string",
                                            "returns": "(User, error)",
                                            "inputs": [
                                                {
                                                    "name": "ctx",
                                                    "type": "context.Context",
                                                    "optional": false,
                                                    "fields": null
                                                },
                                                {
                                                    "name": "username",
                                                    "type": "string",
                                                    "optional": false,
                                                    "fields": null
                                                },
                                                {
                                                    "name": "password",
                                                    "type": "string",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "User",
                                                    "optional": false,
                                                    "fields": null
                                                },
                                                {
                                                    "name": "",
                                                    "type": "error",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Method",
                                            "name": "getUser",
                                            "visibility": "-",
                                            "params": "ctx context.Context, username string",
                                            "returns": "(User, error)",
                                            "inputs": [
                                                {
                                                    "name": "ctx",
                                                    "type": "context.Context",
                                                    "optional": false,
                                                    "fields": null
                                                },
                                                {
                                                    "name": "username",
                                                    "type": "string",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "User",
                                                    "optional": false,
                                                    "fields": null
                                                },
                                                {
                                                    "name": "",
                                                    "type": "error",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Method",
                                            "name": "getUserAPIToken",
                                            "visibility": "-",
                                            "params": "username string",
                                            "returns": "(string, error)",
                                            "inputs": [
                                                {
                                                    "name": "username",
                                                    "type": "string",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "string",
                                                    "optional": false,
                                                    "fields": null
                                                },
                                                {
                                                    "name": "",
                                                    "type": "error",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "struct",
                            "name": "User",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./auth-api/user.go"
                                    ]
                                }
                            ],
                            "attributes": {
                                "fields": {
                                    "__type__": "Attribute",
                                    "key": "fields",
                                    "value": [
                                        {
                                            "__type__": "Field",
                                            "name": "Username",
                                            "type": "string",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Field",
                                            "name": "FirstName",
                                            "type": "string",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Field",
                                            "name": "LastName",
                                            "type": "string",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Field",
                                            "name": "Role",
                                            "type": "string",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "struct",
                            "name": "LoginRequest",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./auth-api/main.go"
                                    ]
                                }
                            ],
                            "attributes": {
                                "fields": {
                                    "__type__": "Attribute",
                                    "key": "fields",
                                    "value": [
                                        {
                                            "__type__": "Field",
                                            "name": "Username",
                                            "type": "string",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Field",
                                            "name": "Password",
                                            "type": "string",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "struct",
                            "name": "TracedClient",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./auth-api/tracing.go"
                                    ]
                                }
                            ],
                            "attributes": {
                                "fields": {
                                    "__type__": "Attribute",
                                    "key": "fields",
                                    "value": [
                                        {
                                            "__type__": "Field",
                                            "name": "client",
                                            "type": "zipkinhttp.Client",
                                            "visibility": "-",
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                },
                                "methods": {
                                    "__type__": "Attribute",
                                    "key": "methods",
                                    "value": [
                                        {
                                            "__type__": "Method",
                                            "name": "Do",
                                            "visibility": "+",
                                            "params": "req *http.Request",
                                            "returns": "(*http.Response, error)",
                                            "inputs": [
                                                {
                                                    "name": "req",
                                                    "type": "*http.Request",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "*http.Response",
                                                    "optional": false,
                                                    "fields": null
                                                },
                                                {
                                                    "name": "",
                                                    "type": "error",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                }
                            }
                        }
                    ],
                    "annotations": []
                }
            }
        },
        {
            "__type__": "Service",
            "kind": "service",
            "name": "todos_api",
            "annotations": [
                {
                    "__type__": "Annotation",
                    "name": "PATH",
                    "args": [
                        "./todos-api"
                    ]
                },
                {
                    "__type__": "Annotation",
                    "name": "CALLS",
                    "args": [
                        "system.redis_queue"
                    ]
                },
                {
                    "__type__": "Annotation",
                    "name": "CALLS",
                    "args": [
                        "system.zipkin"
                    ]
                }
            ],
            "attributes": {
                "description": {
                    "__type__": "Attribute",
                    "key": "description",
                    "value": "NodeJS Todos API providing CRUD for user todo records. Publishes create and delete operations to a Redis channel for asynchronous logging. Emits traces to Zipkin.",
                    "annotations": []
                },
                "langs": {
                    "__type__": "Attribute",
                    "key": "langs",
                    "value": [
                        "nodejs"
                    ],
                    "annotations": []
                },
                "dependencies": {
                    "__type__": "Attribute",
                    "key": "dependencies",
                    "value": {
                        "redis_queue": "publish log messages",
                        "zipkin": "tracing collector",
                        "node_packages": [
                            "body-parser@^1.18.2",
                            "express@^4.15.4",
                            "express-jwt@^5.3.0",
                            "memory-cache@^0.2.0",
                            "redis@^2.8.0",
                            "zipkin@^0.11.2",
                            "zipkin-context-cls@^0.11.0",
                            "zipkin-instrumentation-express@^0.11.2",
                            "zipkin-transport-http@^0.11.2"
                        ],
                        "node_dev_packages": [
                            "nodemon@^1.11.0"
                        ]
                    },
                    "annotations": [
                        {
                            "__type__": "Annotation",
                            "name": "PATH",
                            "args": [
                                "./todos-api/package.json"
                            ]
                        }
                    ]
                },
                "runtime": {
                    "__type__": "Attribute",
                    "key": "runtime",
                    "value": {
                        "development": {
                            "__type__": "Attribute",
                            "key": "development",
                            "value": {
                                "backend": "docker-compose",
                                "container_name": "todos-api",
                                "build_context": "./todos-api",
                                "dockerfile": "./todos-api/Dockerfile",
                                "base_image": "node:8-alpine",
                                "port": "8082",
                                "start_command": "npm start",
                                "secrets": [
                                    "JWT_SECRET"
                                ],
                                "env": [
                                    {
                                        "key": "TODO_API_PORT",
                                        "value": "8082"
                                    },
                                    {
                                        "key": "REDIS_HOST",
                                        "value": "redis-queue"
                                    },
                                    {
                                        "key": "REDIS_PORT",
                                        "value": "6379"
                                    },
                                    {
                                        "key": "REDIS_CHANNEL",
                                        "value": "log_channel"
                                    },
                                    {
                                        "key": "ZIPKIN_URL",
                                        "value": "zipkin:9411/api/v2/spans"
                                    }
                                ]
                            },
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./todos-api/Dockerfile"
                                    ]
                                }
                            ]
                        },
                        "kubernetes": {
                            "__type__": "Attribute",
                            "key": "kubernetes",
                            "value": {
                                "backend": "k8s",
                                "deployment_name": "todos-api",
                                "service_name": "todos-api",
                                "replicas": "1",
                                "image": "todos-api",
                                "image_pull_policy": "Never",
                                "labels": {
                                    "app": "microservice-app-example",
                                    "service": "todos-api"
                                },
                                "ports_exposed": [
                                    "8082"
                                ],
                                "env": [
                                    {
                                        "key": "JWT_SECRET",
                                        "value": "myfancysecret"
                                    },
                                    {
                                        "key": "TODO_API_PORT",
                                        "value": "8082"
                                    },
                                    {
                                        "key": "REDIS_HOST",
                                        "value": "redis-queue"
                                    },
                                    {
                                        "key": "REDIS_PORT",
                                        "value": "6379"
                                    },
                                    {
                                        "key": "REDIS_CHANNEL",
                                        "value": "log_channel"
                                    },
                                    {
                                        "key": "ZIPKIN_URL",
                                        "value": "http://zipkin:9411/api/v2/spans"
                                    }
                                ]
                            },
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "k8s/todos-api/deployment.yaml"
                                    ]
                                },
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "k8s/todos-api/service.yaml"
                                    ]
                                }
                            ]
                        }
                    },
                    "annotations": []
                },
                "api": {
                    "__type__": "Attribute",
                    "key": "api",
                    "value": [
                        {
                            "__type__": "Attribute",
                            "key": null,
                            "value": {
                                "type": "http",
                                "endpoints": [
                                    {
                                        "__type__": "Endpoint",
                                        "style": "http",
                                        "name": null,
                                        "method": "GET",
                                        "path": "/todos",
                                        "request": "",
                                        "response": "JSON{items:map < int, Todo >}",
                                        "inputs": [],
                                        "outputs": [
                                            {
                                                "name": "items",
                                                "type": "map<int, Todo>",
                                                "optional": false,
                                                "fields": null
                                            }
                                        ],
                                        "annotations": [],
                                        "attributes": {
                                            "auth": "bearer_jwt"
                                        },
                                        "raw": "GET /todos -> JSON{items:map < int, Todo >} [auth:bearer_jwt]"
                                    },
                                    {
                                        "__type__": "Endpoint",
                                        "style": "http",
                                        "name": null,
                                        "method": "POST",
                                        "path": "/todos",
                                        "request": "JSON{content:str}",
                                        "response": "JSON{todo:Todo}",
                                        "inputs": [
                                            {
                                                "name": "content",
                                                "type": "str",
                                                "optional": false,
                                                "fields": null
                                            }
                                        ],
                                        "outputs": [
                                            {
                                                "name": "todo",
                                                "type": "Todo",
                                                "optional": false,
                                                "fields": null
                                            }
                                        ],
                                        "annotations": [],
                                        "attributes": {
                                            "auth": "bearer_jwt"
                                        },
                                        "raw": "POST /todos JSON{content:str} -> JSON{todo:Todo} [auth:bearer_jwt]"
                                    },
                                    {
                                        "__type__": "Endpoint",
                                        "style": "http",
                                        "name": null,
                                        "method": "DELETE",
                                        "path": "/todos/{taskId}",
                                        "request": "",
                                        "response": "void",
                                        "inputs": [
                                            {
                                                "name": "taskId",
                                                "type": "str",
                                                "optional": false,
                                                "fields": null
                                            }
                                        ],
                                        "outputs": [
                                            {
                                                "name": "",
                                                "type": "void",
                                                "optional": false,
                                                "fields": null
                                            }
                                        ],
                                        "annotations": [],
                                        "attributes": {
                                            "auth": "bearer_jwt",
                                            "status": "204"
                                        },
                                        "raw": "DELETE /todos/{taskId} -> void [auth:bearer_jwt, status:204]"
                                    }
                                ]
                            },
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./todos-api/routes.js"
                                    ]
                                }
                            ]
                        }
                    ],
                    "annotations": []
                },
                "components": {
                    "__type__": "Attribute",
                    "key": "components",
                    "value": [
                        {
                            "__type__": "Block",
                            "kind": "queue",
                            "name": "TodosLogChannel",
                            "annotations": [],
                            "attributes": {
                                "engine": {
                                    "__type__": "Attribute",
                                    "key": "engine",
                                    "value": "redis",
                                    "annotations": []
                                },
                                "channel": {
                                    "__type__": "Attribute",
                                    "key": "channel",
                                    "value": "log_channel",
                                    "annotations": []
                                },
                                "direction": {
                                    "__type__": "Attribute",
                                    "key": "direction",
                                    "value": "publish",
                                    "annotations": []
                                },
                                "purpose": {
                                    "__type__": "Attribute",
                                    "key": "purpose",
                                    "value": "publish create and delete event messages for logging",
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "struct",
                            "name": "TodoController",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./todos-api/todoController.js"
                                    ]
                                }
                            ],
                            "attributes": {
                                "fields": {
                                    "__type__": "Attribute",
                                    "key": "fields",
                                    "value": [
                                        {
                                            "__type__": "Field",
                                            "name": "_tracer",
                                            "type": "any",
                                            "visibility": "-",
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Field",
                                            "name": "_redisClient",
                                            "type": "any",
                                            "visibility": "-",
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Field",
                                            "name": "_logChannel",
                                            "type": "string",
                                            "visibility": "-",
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                },
                                "methods": {
                                    "__type__": "Attribute",
                                    "key": "methods",
                                    "value": [
                                        {
                                            "__type__": "Method",
                                            "name": "list",
                                            "visibility": "+",
                                            "params": "req any, res any",
                                            "returns": "void",
                                            "inputs": [
                                                {
                                                    "name": "req",
                                                    "type": "any",
                                                    "optional": false,
                                                    "fields": null
                                                },
                                                {
                                                    "name": "res",
                                                    "type": "any",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "void",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Method",
                                            "name": "create",
                                            "visibility": "+",
                                            "params": "req any, res any",
                                            "returns": "void",
                                            "inputs": [
                                                {
                                                    "name": "req",
                                                    "type": "any",
                                                    "optional": false,
                                                    "fields": null
                                                },
                                                {
                                                    "name": "res",
                                                    "type": "any",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "void",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Method",
                                            "name": "delete",
                                            "visibility": "+",
                                            "params": "req any, res any",
                                            "returns": "void",
                                            "inputs": [
                                                {
                                                    "name": "req",
                                                    "type": "any",
                                                    "optional": false,
                                                    "fields": null
                                                },
                                                {
                                                    "name": "res",
                                                    "type": "any",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "void",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Method",
                                            "name": "_logOperation",
                                            "visibility": "-",
                                            "params": "opName string, username string, todoId any",
                                            "returns": "void",
                                            "inputs": [
                                                {
                                                    "name": "opName",
                                                    "type": "string",
                                                    "optional": false,
                                                    "fields": null
                                                },
                                                {
                                                    "name": "username",
                                                    "type": "string",
                                                    "optional": false,
                                                    "fields": null
                                                },
                                                {
                                                    "name": "todoId",
                                                    "type": "any",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "void",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Method",
                                            "name": "_getTodoData",
                                            "visibility": "-",
                                            "params": "userID any",
                                            "returns": "any",
                                            "inputs": [
                                                {
                                                    "name": "userID",
                                                    "type": "any",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "any",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Method",
                                            "name": "_setTodoData",
                                            "visibility": "-",
                                            "params": "userID any, data any",
                                            "returns": "void",
                                            "inputs": [
                                                {
                                                    "name": "userID",
                                                    "type": "any",
                                                    "optional": false,
                                                    "fields": null
                                                },
                                                {
                                                    "name": "data",
                                                    "type": "any",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "void",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "struct",
                            "name": "Todo",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./todos-api/todoController.js"
                                    ]
                                }
                            ],
                            "attributes": {
                                "fields": {
                                    "__type__": "Attribute",
                                    "key": "fields",
                                    "value": [
                                        {
                                            "__type__": "Field",
                                            "name": "id",
                                            "type": "int",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Field",
                                            "name": "content",
                                            "type": "string",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "struct",
                            "name": "LogMessage",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./todos-api/todoController.js"
                                    ]
                                }
                            ],
                            "attributes": {
                                "fields": {
                                    "__type__": "Attribute",
                                    "key": "fields",
                                    "value": [
                                        {
                                            "__type__": "Field",
                                            "name": "opName",
                                            "type": "string",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Field",
                                            "name": "username",
                                            "type": "string",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Field",
                                            "name": "todoId",
                                            "type": "any",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Field",
                                            "name": "zipkinSpan",
                                            "type": "any",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                }
                            }
                        }
                    ],
                    "annotations": []
                }
            }
        },
        {
            "__type__": "Service",
            "kind": "service",
            "name": "users_api",
            "annotations": [
                {
                    "__type__": "Annotation",
                    "name": "PATH",
                    "args": [
                        "./users-api"
                    ]
                },
                {
                    "__type__": "Annotation",
                    "name": "CALLS",
                    "args": [
                        "system.zipkin"
                    ]
                }
            ],
            "attributes": {
                "description": {
                    "__type__": "Attribute",
                    "key": "description",
                    "value": "Java Spring Boot Users API providing user profiles (single user and list).",
                    "annotations": []
                },
                "langs": {
                    "__type__": "Attribute",
                    "key": "langs",
                    "value": [
                        "java"
                    ],
                    "annotations": []
                },
                "dependencies": {
                    "__type__": "Attribute",
                    "key": "dependencies",
                    "value": {
                        "zipkin": "tracing collector",
                        "maven_dependencies": [
                            "org.springframework.boot:spring-boot-starter-web",
                            "org.springframework.boot:spring-boot-starter-security",
                            "io.jsonwebtoken:jjwt@0.7.0",
                            "org.springframework.boot:spring-boot-starter-data-jpa",
                            "com.h2database:h2",
                            "org.springframework.cloud:spring-cloud-starter-zipkin@1.3.1.RELEASE",
                            "org.springframework.boot:spring-boot-starter-test"
                        ]
                    },
                    "annotations": [
                        {
                            "__type__": "Annotation",
                            "name": "PATH",
                            "args": [
                                "./users-api/pom.xml"
                            ]
                        }
                    ]
                },
                "runtime": {
                    "__type__": "Attribute",
                    "key": "runtime",
                    "value": {
                        "development": {
                            "__type__": "Attribute",
                            "key": "development",
                            "value": {
                                "backend": "docker-compose",
                                "container_name": "users-api",
                                "build_context": "./users-api",
                                "dockerfile": "./users-api/Dockerfile",
                                "base_image": "openjdk:8-alpine",
                                "port": "8083",
                                "start_command": "java -jar ./target/users-api-0.0.1-SNAPSHOT.jar",
                                "secrets": [
                                    "JWT_SECRET"
                                ],
                                "env": [
                                    {
                                        "key": "SERVER_PORT",
                                        "value": "8083"
                                    },
                                    {
                                        "key": "SPRING_ZIPKIN_BASE_URL",
                                        "value": "zipkin:9411"
                                    }
                                ]
                            },
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./users-api/Dockerfile"
                                    ]
                                }
                            ]
                        },
                        "kubernetes": {
                            "__type__": "Attribute",
                            "key": "kubernetes",
                            "value": {
                                "backend": "k8s",
                                "deployment_name": "users-api",
                                "service_name": "users-api",
                                "replicas": "1",
                                "image": "users-api",
                                "image_pull_policy": "Never",
                                "labels": {
                                    "app": "microservice-app-example",
                                    "service": "users-api"
                                },
                                "ports_exposed": [
                                    "8083"
                                ],
                                "env": [
                                    {
                                        "key": "JWT_SECRET",
                                        "value": "myfancysecret"
                                    },
                                    {
                                        "key": "SERVER_PORT",
                                        "value": "8083"
                                    },
                                    {
                                        "key": "SPRING_ZIPKIN_BASE_URL",
                                        "value": "http://zipkin:9411"
                                    }
                                ]
                            },
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "k8s/users-api/deployment.yaml"
                                    ]
                                },
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "k8s/users-api/service.yaml"
                                    ]
                                }
                            ]
                        }
                    },
                    "annotations": []
                },
                "api": {
                    "__type__": "Attribute",
                    "key": "api",
                    "value": [
                        {
                            "__type__": "Attribute",
                            "key": null,
                            "value": {
                                "type": "http",
                                "endpoints": [
                                    {
                                        "__type__": "Endpoint",
                                        "style": "http",
                                        "name": null,
                                        "method": "GET",
                                        "path": "/users",
                                        "request": "",
                                        "response": "JSON{users:any}",
                                        "inputs": [],
                                        "outputs": [
                                            {
                                                "name": "users",
                                                "type": "any",
                                                "optional": false,
                                                "fields": null
                                            }
                                        ],
                                        "annotations": [],
                                        "attributes": {},
                                        "raw": "GET /users -> JSON{users:any}"
                                    },
                                    {
                                        "__type__": "Endpoint",
                                        "style": "http",
                                        "name": null,
                                        "method": "GET",
                                        "path": "/users/{username}",
                                        "request": "",
                                        "response": "JSON{user:any?}",
                                        "inputs": [
                                            {
                                                "name": "username",
                                                "type": "str",
                                                "optional": false,
                                                "fields": null
                                            }
                                        ],
                                        "outputs": [
                                            {
                                                "name": "user",
                                                "type": "any",
                                                "optional": true,
                                                "fields": null
                                            }
                                        ],
                                        "annotations": [],
                                        "attributes": {
                                            "auth": "bearer_jwt",
                                            "access_control": "same_user"
                                        },
                                        "raw": "GET /users/{username} -> JSON{user:any?} [auth:bearer_jwt, access_control:same_user]"
                                    }
                                ]
                            },
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./users-api/README.md"
                                    ]
                                },
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "users-api/src/main/java/com/elgris/usersapi/api/UsersController.java"
                                    ]
                                }
                            ]
                        }
                    ],
                    "annotations": []
                },
                "components": {
                    "__type__": "Attribute",
                    "key": "components",
                    "value": [
                        {
                            "__type__": "Block",
                            "kind": "config",
                            "name": "MavenWrapper",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./users-api/.mvn/wrapper/maven-wrapper.properties"
                                    ]
                                }
                            ],
                            "attributes": {
                                "distribution_url": {
                                    "__type__": "Attribute",
                                    "key": "distribution_url",
                                    "value": "https://repo1.maven.org/maven2/org/apache/maven/apache-maven/3.5.0/apache-maven-3.5.0-bin.zip",
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "config",
                            "name": "ApplicationProperties",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "users-api/src/main/resources/application.properties"
                                    ]
                                }
                            ],
                            "attributes": {
                                "jwt.secret": {
                                    "__type__": "Attribute",
                                    "key": "jwt.secret",
                                    "value": "myfancysecret",
                                    "annotations": []
                                },
                                "server.port": {
                                    "__type__": "Attribute",
                                    "key": "server.port",
                                    "value": "8083",
                                    "annotations": []
                                },
                                "spring.application.name": {
                                    "__type__": "Attribute",
                                    "key": "spring.application.name",
                                    "value": "users-api",
                                    "annotations": []
                                },
                                "spring.zipkin.baseUrl": {
                                    "__type__": "Attribute",
                                    "key": "spring.zipkin.baseUrl",
                                    "value": "http://127.0.0.1:9411/",
                                    "annotations": []
                                },
                                "spring.sleuth.sampler.percentage": {
                                    "__type__": "Attribute",
                                    "key": "spring.sleuth.sampler.percentage",
                                    "value": "100.0",
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "struct",
                            "name": "HttpSecurityConfiguration",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "users-api/src/main/java/com/elgris/usersapi/configuration/SecurityConfiguration.java"
                                    ]
                                }
                            ],
                            "attributes": {
                                "web_security_enabled": {
                                    "__type__": "Attribute",
                                    "key": "web_security_enabled",
                                    "value": "true",
                                    "annotations": []
                                },
                                "global_method_security_secured_enabled": {
                                    "__type__": "Attribute",
                                    "key": "global_method_security_secured_enabled",
                                    "value": "true",
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "struct",
                            "name": "ApiConfigurerAdatper",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "users-api/src/main/java/com/elgris/usersapi/configuration/SecurityConfiguration.java"
                                    ]
                                }
                            ],
                            "attributes": {
                                "extends": {
                                    "__type__": "Attribute",
                                    "key": "extends",
                                    "value": "WebSecurityConfigurerAdapter",
                                    "annotations": []
                                },
                                "fields": {
                                    "__type__": "Attribute",
                                    "key": "fields",
                                    "value": [
                                        {
                                            "__type__": "Field",
                                            "name": "jwtAuthenticationFilter",
                                            "type": "JwtAuthenticationFilter",
                                            "visibility": "-",
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                },
                                "methods": {
                                    "__type__": "Attribute",
                                    "key": "methods",
                                    "value": [
                                        {
                                            "__type__": "Method",
                                            "name": "configure",
                                            "visibility": "+",
                                            "params": "http HttpSecurity",
                                            "returns": "void",
                                            "inputs": [
                                                {
                                                    "name": "http",
                                                    "type": "HttpSecurity",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "void",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {
                                                "description": {
                                                    "__type__": "Attribute",
                                                    "key": "description",
                                                    "value": "Configures HttpSecurity to match all paths and adds JwtAuthenticationFilter after BasicAuthenticationFilter",
                                                    "annotations": []
                                                }
                                            }
                                        }
                                    ],
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "database",
                            "name": "UsersDB",
                            "annotations": [],
                            "attributes": {
                                "engine": {
                                    "__type__": "Attribute",
                                    "key": "engine",
                                    "value": "h2",
                                    "annotations": []
                                },
                                "description": {
                                    "__type__": "Attribute",
                                    "key": "description",
                                    "value": "In-memory H2 database managed by Spring Data JPA and seeded via data.sql",
                                    "annotations": []
                                },
                                "components": {
                                    "__type__": "Attribute",
                                    "key": "components",
                                    "value": [
                                        {
                                            "__type__": "Block",
                                            "kind": "table",
                                            "name": "users",
                                            "annotations": [],
                                            "attributes": {
                                                "username": {
                                                    "__type__": "Attribute",
                                                    "key": "username",
                                                    "value": "VARCHAR",
                                                    "annotations": []
                                                },
                                                "firstname": {
                                                    "__type__": "Attribute",
                                                    "key": "firstname",
                                                    "value": "VARCHAR",
                                                    "annotations": []
                                                },
                                                "lastname": {
                                                    "__type__": "Attribute",
                                                    "key": "lastname",
                                                    "value": "VARCHAR",
                                                    "annotations": []
                                                },
                                                "role": {
                                                    "__type__": "Attribute",
                                                    "key": "role",
                                                    "value": "INT",
                                                    "annotations": []
                                                }
                                            }
                                        }
                                    ],
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "sql",
                            "name": "InitialData",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "users-api/src/main/resources/data.sql"
                                    ]
                                }
                            ],
                            "attributes": {
                                "target": {
                                    "__type__": "Attribute",
                                    "key": "target",
                                    "value": "users table",
                                    "annotations": []
                                },
                                "statements": {
                                    "__type__": "Attribute",
                                    "key": "statements",
                                    "value": "INSERT INTO users (username, firstname, lastname, role) VALUES\n  ('admin', 'Foo', 'Bar', 1),\n  ('johnd', 'John', 'Doe', 0),\n  ('janed', 'Jane', 'Doe', 0);",
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "struct",
                            "name": "UsersApiApplication",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "users-api/src/main/java/com/elgris/usersapi/UsersApiApplication.java"
                                    ]
                                }
                            ],
                            "attributes": {
                                "methods": {
                                    "__type__": "Attribute",
                                    "key": "methods",
                                    "value": [
                                        {
                                            "__type__": "Method",
                                            "name": "main",
                                            "visibility": "+",
                                            "params": "args string []",
                                            "returns": "void",
                                            "inputs": [
                                                {
                                                    "name": "args string",
                                                    "type": "[]",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "void",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "struct",
                            "name": "UsersApiApplicationTests",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "users-api/src/test/java/com/elgris/usersapi/UsersApiApplicationTests.java"
                                    ]
                                }
                            ],
                            "attributes": {
                                "methods": {
                                    "__type__": "Attribute",
                                    "key": "methods",
                                    "value": [
                                        {
                                            "__type__": "Method",
                                            "name": "contextLoads",
                                            "visibility": "+",
                                            "params": "",
                                            "returns": "void",
                                            "inputs": [],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "void",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "struct",
                            "name": "UsersController",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "users-api/src/main/java/com/elgris/usersapi/api/UsersController.java"
                                    ]
                                }
                            ],
                            "attributes": {
                                "fields": {
                                    "__type__": "Attribute",
                                    "key": "fields",
                                    "value": [
                                        {
                                            "__type__": "Field",
                                            "name": "userRepository",
                                            "type": "UserRepository",
                                            "visibility": "-",
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                },
                                "methods": {
                                    "__type__": "Attribute",
                                    "key": "methods",
                                    "value": [
                                        {
                                            "__type__": "Method",
                                            "name": "getUsers",
                                            "visibility": "+",
                                            "params": "",
                                            "returns": "User []",
                                            "inputs": [],
                                            "outputs": [
                                                {
                                                    "name": "User",
                                                    "type": "[]",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Method",
                                            "name": "getUser",
                                            "visibility": "+",
                                            "params": "request any, username string",
                                            "returns": "User",
                                            "inputs": [
                                                {
                                                    "name": "request",
                                                    "type": "any",
                                                    "optional": false,
                                                    "fields": null
                                                },
                                                {
                                                    "name": "username",
                                                    "type": "string",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "User",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "interface",
                            "name": "UserRepository",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "users-api/src/main/java/com/elgris/usersapi/repository/UserRepository.java"
                                    ]
                                }
                            ],
                            "attributes": {
                                "extends": {
                                    "__type__": "Attribute",
                                    "key": "extends",
                                    "value": "CrudRepository",
                                    "annotations": []
                                },
                                "entity": {
                                    "__type__": "Attribute",
                                    "key": "entity",
                                    "value": "User",
                                    "annotations": []
                                },
                                "id_type": {
                                    "__type__": "Attribute",
                                    "key": "id_type",
                                    "value": "Long",
                                    "annotations": []
                                },
                                "methods": {
                                    "__type__": "Attribute",
                                    "key": "methods",
                                    "value": [
                                        {
                                            "__type__": "Method",
                                            "name": "findOneByUsername",
                                            "visibility": "+",
                                            "params": "username string",
                                            "returns": "User",
                                            "inputs": [
                                                {
                                                    "name": "username",
                                                    "type": "string",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "User",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Method",
                                            "name": "findByUsername",
                                            "visibility": "+",
                                            "params": "username string",
                                            "returns": "User",
                                            "inputs": [
                                                {
                                                    "name": "username",
                                                    "type": "string",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "User",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Method",
                                            "name": "getByUsername",
                                            "visibility": "+",
                                            "params": "username string",
                                            "returns": "User",
                                            "inputs": [
                                                {
                                                    "name": "username",
                                                    "type": "string",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "User",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "struct",
                            "name": "User",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "users-api/src/main/java/com/elgris/usersapi/models/User.java"
                                    ]
                                }
                            ],
                            "attributes": {
                                "fields": {
                                    "__type__": "Attribute",
                                    "key": "fields",
                                    "value": [
                                        {
                                            "__type__": "Field",
                                            "name": "username",
                                            "type": "string",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Field",
                                            "name": "firstname",
                                            "type": "string",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Field",
                                            "name": "lastname",
                                            "type": "string",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Field",
                                            "name": "role",
                                            "type": "UserRole",
                                            "visibility": "+",
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "enum",
                            "name": "UserRole",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "users-api/src/main/java/com/elgris/usersapi/models/UserRole.java"
                                    ]
                                }
                            ],
                            "attributes": {
                                "values": {
                                    "__type__": "Attribute",
                                    "key": "values",
                                    "value": [
                                        "USER",
                                        "ADMIN"
                                    ],
                                    "annotations": []
                                },
                                "description_field": {
                                    "__type__": "Attribute",
                                    "key": "description_field",
                                    "value": "description",
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "struct",
                            "name": "JwtAuthenticationFilter",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "users-api/src/main/java/com/elgris/usersapi/security/JwtAuthenticationFilter.java"
                                    ]
                                }
                            ],
                            "attributes": {
                                "extends": {
                                    "__type__": "Attribute",
                                    "key": "extends",
                                    "value": "GenericFilterBean",
                                    "annotations": []
                                },
                                "fields": {
                                    "__type__": "Attribute",
                                    "key": "fields",
                                    "value": [
                                        {
                                            "__type__": "Field",
                                            "name": "jwtSecret",
                                            "type": "string",
                                            "visibility": "-",
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                },
                                "methods": {
                                    "__type__": "Attribute",
                                    "key": "methods",
                                    "value": [
                                        {
                                            "__type__": "Method",
                                            "name": "doFilter",
                                            "visibility": "+",
                                            "params": "req ServletRequest, res ServletResponse, chain FilterChain",
                                            "returns": "void",
                                            "inputs": [
                                                {
                                                    "name": "req",
                                                    "type": "ServletRequest",
                                                    "optional": false,
                                                    "fields": null
                                                },
                                                {
                                                    "name": "res",
                                                    "type": "ServletResponse",
                                                    "optional": false,
                                                    "fields": null
                                                },
                                                {
                                                    "name": "chain",
                                                    "type": "FilterChain",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "void",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "struct",
                            "name": "AccessUserFilter",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "users-api/src/main/java/com/elgris/usersapi/security/AccessUserFilter.java"
                                    ]
                                }
                            ],
                            "attributes": {
                                "extends": {
                                    "__type__": "Attribute",
                                    "key": "extends",
                                    "value": "GenericFilterBean",
                                    "annotations": []
                                },
                                "methods": {
                                    "__type__": "Attribute",
                                    "key": "methods",
                                    "value": [
                                        {
                                            "__type__": "Method",
                                            "name": "doFilter",
                                            "visibility": "+",
                                            "params": "req ServletRequest, res ServletResponse, chain FilterChain",
                                            "returns": "void",
                                            "inputs": [
                                                {
                                                    "name": "req",
                                                    "type": "ServletRequest",
                                                    "optional": false,
                                                    "fields": null
                                                },
                                                {
                                                    "name": "res",
                                                    "type": "ServletResponse",
                                                    "optional": false,
                                                    "fields": null
                                                },
                                                {
                                                    "name": "chain",
                                                    "type": "FilterChain",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "void",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                }
                            }
                        }
                    ],
                    "annotations": []
                }
            }
        },
        {
            "__type__": "Service",
            "kind": "service",
            "name": "log_message_processor",
            "annotations": [
                {
                    "__type__": "Annotation",
                    "name": "PATH",
                    "args": [
                        "./log-message-processor"
                    ]
                },
                {
                    "__type__": "Annotation",
                    "name": "CALLS",
                    "args": [
                        "system.redis_queue"
                    ]
                },
                {
                    "__type__": "Annotation",
                    "name": "CALLS",
                    "args": [
                        "system.zipkin"
                    ]
                }
            ],
            "attributes": {
                "description": {
                    "__type__": "Attribute",
                    "key": "description",
                    "value": "Python worker that consumes messages from Redis channel and prints them to stdout. Used for logging of Todos API operations. Emits traces to Zipkin.",
                    "annotations": []
                },
                "langs": {
                    "__type__": "Attribute",
                    "key": "langs",
                    "value": [
                        "python"
                    ],
                    "annotations": []
                },
                "dependencies": {
                    "__type__": "Attribute",
                    "key": "dependencies",
                    "value": {
                        "redis_queue": "subscribe log messages",
                        "zipkin": "tracing collector",
                        "python_packages": [
                            "redis ==2.10.6",
                            "py_zipkin ==0.11.0",
                            "requests"
                        ]
                    },
                    "annotations": [
                        {
                            "__type__": "Annotation",
                            "name": "PATH",
                            "args": [
                                "./log-message-processor/requirements.txt"
                            ]
                        }
                    ]
                },
                "runtime": {
                    "__type__": "Attribute",
                    "key": "runtime",
                    "value": {
                        "development": {
                            "__type__": "Attribute",
                            "key": "development",
                            "value": {
                                "backend": "docker-compose",
                                "container_name": "log-message-processor",
                                "build_context": "./log-message-processor",
                                "dockerfile": "./log-message-processor/Dockerfile",
                                "base_image": "python:3.6-alpine",
                                "start_command": "python3 -u main.py",
                                "env": [
                                    {
                                        "key": "REDIS_HOST",
                                        "value": "redis-queue"
                                    },
                                    {
                                        "key": "REDIS_PORT",
                                        "value": "6379"
                                    },
                                    {
                                        "key": "REDIS_CHANNEL",
                                        "value": "log_channel"
                                    },
                                    {
                                        "key": "ZIPKIN_URL",
                                        "value": "zipkin:9411/api/v1/spans"
                                    }
                                ]
                            },
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./log-message-processor/Dockerfile"
                                    ]
                                }
                            ]
                        },
                        "kubernetes": {
                            "__type__": "Attribute",
                            "key": "kubernetes",
                            "value": {
                                "backend": "k8s",
                                "deployment_name": "log-message-processor",
                                "replicas": "1",
                                "image": "log-message-processor",
                                "image_pull_policy": "Never",
                                "labels": {
                                    "app": "microservice-app-example",
                                    "service": "log-message-processor"
                                },
                                "env": [
                                    {
                                        "key": "REDIS_HOST",
                                        "value": "redis-queue"
                                    },
                                    {
                                        "key": "REDIS_PORT",
                                        "value": "6379"
                                    },
                                    {
                                        "key": "REDIS_CHANNEL",
                                        "value": "log_channel"
                                    },
                                    {
                                        "key": "ZIPKIN_URL",
                                        "value": "http://zipkin:9411/api/v1/spans"
                                    }
                                ]
                            },
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "k8s/log-message-processor/deployment.yaml"
                                    ]
                                }
                            ]
                        }
                    },
                    "annotations": []
                },
                "components": {
                    "__type__": "Attribute",
                    "key": "components",
                    "value": [
                        {
                            "__type__": "Block",
                            "kind": "struct",
                            "name": "LogProcessor",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./log-message-processor/main.py"
                                    ]
                                }
                            ],
                            "attributes": {
                                "methods": {
                                    "__type__": "Attribute",
                                    "key": "methods",
                                    "value": [
                                        {
                                            "__type__": "Method",
                                            "name": "log_message",
                                            "visibility": "+",
                                            "params": "message any",
                                            "returns": "void",
                                            "inputs": [
                                                {
                                                    "name": "message",
                                                    "type": "any",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "void",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Method",
                                            "name": "http_transport",
                                            "visibility": "+",
                                            "params": "encoded_span any",
                                            "returns": "void",
                                            "inputs": [
                                                {
                                                    "name": "encoded_span",
                                                    "type": "any",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "void",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        },
                                        {
                                            "__type__": "Method",
                                            "name": "run",
                                            "visibility": "+",
                                            "params": "redis_host string, redis_port int, redis_channel string, zipkin_url string",
                                            "returns": "void",
                                            "inputs": [
                                                {
                                                    "name": "redis_host",
                                                    "type": "string",
                                                    "optional": false,
                                                    "fields": null
                                                },
                                                {
                                                    "name": "redis_port",
                                                    "type": "int",
                                                    "optional": false,
                                                    "fields": null
                                                },
                                                {
                                                    "name": "redis_channel",
                                                    "type": "string",
                                                    "optional": false,
                                                    "fields": null
                                                },
                                                {
                                                    "name": "zipkin_url",
                                                    "type": "string",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "outputs": [
                                                {
                                                    "name": "",
                                                    "type": "void",
                                                    "optional": false,
                                                    "fields": null
                                                }
                                            ],
                                            "annotations": [],
                                            "attributes": {}
                                        }
                                    ],
                                    "annotations": []
                                }
                            }
                        },
                        {
                            "__type__": "Block",
                            "kind": "queue",
                            "name": "TodosLogChannelConsumer",
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "./log-message-processor/main.py"
                                    ]
                                }
                            ],
                            "attributes": {
                                "engine": {
                                    "__type__": "Attribute",
                                    "key": "engine",
                                    "value": "redis",
                                    "annotations": []
                                },
                                "channel": {
                                    "__type__": "Attribute",
                                    "key": "channel",
                                    "value": "log_channel",
                                    "annotations": []
                                },
                                "direction": {
                                    "__type__": "Attribute",
                                    "key": "direction",
                                    "value": "subscribe",
                                    "annotations": []
                                },
                                "purpose": {
                                    "__type__": "Attribute",
                                    "key": "purpose",
                                    "value": "print messages to stdout",
                                    "annotations": []
                                }
                            }
                        }
                    ],
                    "annotations": []
                }
            }
        },
        {
            "__type__": "Service",
            "kind": "service",
            "name": "zipkin",
            "annotations": [
                {
                    "__type__": "Annotation",
                    "name": "PATH",
                    "args": [
                        "./"
                    ]
                }
            ],
            "attributes": {
                "description": {
                    "__type__": "Attribute",
                    "key": "description",
                    "value": "Zipkin tracing collector and UI",
                    "annotations": []
                },
                "langs": {
                    "__type__": "Attribute",
                    "key": "langs",
                    "value": [
                        "container"
                    ],
                    "annotations": []
                },
                "runtime": {
                    "__type__": "Attribute",
                    "key": "runtime",
                    "value": {
                        "development": {
                            "backend": "docker-compose",
                            "image": "openzipkin/zipkin",
                            "ports_exposed": [
                                "9411"
                            ]
                        },
                        "kubernetes": {
                            "__type__": "Attribute",
                            "key": "kubernetes",
                            "value": {
                                "backend": "k8s",
                                "deployment_name": "zipkin",
                                "service_name": "zipkin",
                                "replicas": "1",
                                "image": "openzipkin/zipkin",
                                "labels": {
                                    "app": "microservice-app-example",
                                    "service": "zipkin"
                                },
                                "ports_exposed": [
                                    "9411"
                                ],
                                "service_type": "LoadBalancer"
                            },
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "k8s/zipkin/deployment.yaml"
                                    ]
                                },
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "k8s/zipkin/service.yaml"
                                    ]
                                }
                            ]
                        }
                    },
                    "annotations": []
                }
            }
        },
        {
            "__type__": "Service",
            "kind": "service",
            "name": "redis_queue",
            "annotations": [
                {
                    "__type__": "Annotation",
                    "name": "PATH",
                    "args": [
                        "./"
                    ]
                }
            ],
            "attributes": {
                "description": {
                    "__type__": "Attribute",
                    "key": "description",
                    "value": "Redis instance used as a queue for logging messages",
                    "annotations": []
                },
                "langs": {
                    "__type__": "Attribute",
                    "key": "langs",
                    "value": [
                        "container"
                    ],
                    "annotations": []
                },
                "runtime": {
                    "__type__": "Attribute",
                    "key": "runtime",
                    "value": {
                        "development": {
                            "backend": "docker-compose",
                            "image": "redis"
                        },
                        "kubernetes": {
                            "__type__": "Attribute",
                            "key": "kubernetes",
                            "value": {
                                "backend": "k8s",
                                "deployment_name": "redis-queue",
                                "service_name": "redis-queue",
                                "replicas": "1",
                                "image": "redis",
                                "labels": {
                                    "app": "microservice-app-example",
                                    "service": "redis-queue"
                                },
                                "ports_exposed": [
                                    "6379"
                                ]
                            },
                            "annotations": [
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "k8s/redis-queue/deployment.yaml"
                                    ]
                                },
                                {
                                    "__type__": "Annotation",
                                    "name": "PATH",
                                    "args": [
                                        "k8s/redis-queue/service.yaml"
                                    ]
                                }
                            ]
                        }
                    },
                    "annotations": []
                },
                "components": {
                    "__type__": "Attribute",
                    "key": "components",
                    "value": [
                        {
                            "__type__": "Block",
                            "kind": "queue",
                            "name": "LogChannel",
                            "annotations": [],
                            "attributes": {
                                "engine": {
                                    "__type__": "Attribute",
                                    "key": "engine",
                                    "value": "redis",
                                    "annotations": []
                                },
                                "channel": {
                                    "__type__": "Attribute",
                                    "key": "channel",
                                    "value": "log_channel",
                                    "annotations": []
                                },
                                "publishers": {
                                    "__type__": "Attribute",
                                    "key": "publishers",
                                    "value": [
                                        "todos_api"
                                    ],
                                    "annotations": []
                                },
                                "subscribers": {
                                    "__type__": "Attribute",
                                    "key": "subscribers",
                                    "value": [
                                        "log_message_processor"
                                    ],
                                    "annotations": []
                                }
                            }
                        }
                    ],
                    "annotations": []
                }
            }
        }
    ]
}
